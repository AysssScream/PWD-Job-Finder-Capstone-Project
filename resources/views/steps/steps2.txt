    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.7/inputmask.min.js"></script>
        <link href="{{ asset('fontawesome-free-6.5.2-web/css/all.min.css') }}" rel="stylesheet">

        <link rel="stylesheet" href="/css/steps.css">

    </head>

    <div class="py-12">
        <div class="container mx-auto">
            <div class="flex justify-center">
                <div class="w-5/6">
                    <form action="{{ route('personal') }}" method="POST" enctype="multipart/form-data">
                        @csrf
                        @if ($errors->any())
                            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
                                role="alert">
                                <strong class="font-bold">Oops!</strong>
                                <span class="block sm:inline">There were some errors with your submission:</span>
                                <ul class="mt-3 list-disc list-inside text-sm">
                                    @foreach ($errors->all() as $error)
                                        <li>{{ $error }}</li>
                                    @endforeach
                                </ul>
                            </div>
                            <br>
                        @endif
                        <div class="bg-white shadow-md rounded-lg">
                            <div class="p-6">
                                <h3 class="text-2xl font-bold mb-2">Personal Information</h3>
                                <span class="text-xl font-semibold">Step 2:</span>
                                {{ __("You're logged in!") }}
                                <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">

                                    <div>
                                        @include('layouts.dropdown')

                                    </div>

                                    <div>
                                        <div class="mt-6">
                                            <label for="civilStatus" class="block mb-1">Civil Status</label>
                                            <select id="civilStatus" name="civilStatus"
                                                class="w-full p-2 border rounded">
                                                <option value="Single"
                                                    {{ old('civilStatus', $formData2['civilStatus'] ?? '') == 'Single' ? 'selected' : '' }}>
                                                    Single</option>
                                                <option value="Married"
                                                    {{ old('civilStatus', $formData2['civilStatus'] ?? '') == 'Married' ? 'selected' : '' }}>
                                                    Married</option>
                                                <option value="Widowed"
                                                    {{ old('civilStatus', $formData2['civilStatus'] ?? '') == 'Widowed' ? 'selected' : '' }}>
                                                    Widowed</option>
                                            </select>
                                            @error('civilStatus')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>
                                        <div id="barangay-container" class="mt-6 relative">
                                            <label for="barangay" class="block mb-1">Barangay</label>
                                            <div class="flex items-center">
                                                <input id="barangay" type="text" name="barangay"
                                                    class="w-full p-2 border rounded shadow-sm"
                                                    placeholder="Type to search Barangay..."
                                                    value="{{ old('barangay', $formData2['barangay'] ?? '') }}"
                                                    readonly>
                                                <button id="editButton"
                                                    class="ml-2 px-3 py-2 bg-blue-500 text-white rounded">Edit</button>
                                            </div>
                                            <div id="barangay-suggestions"
                                                class="absolute z-10 mt-1 w-full max-h-90 overflow-y-auto bg-white border rounded shadow-md hidden">
                                            </div>
                                            <div id="barangay-error" class="text-red-600 mt-1 hidden">Error fetching
                                                barangay data</div>
                                        </div>

                                        <div class="mt-6">
                                            <label for="zipcode" class="block mb-1">Zip Code:</label>
                                            <div class="flex items-center mt-4">
                                                <input type="text" id="zipcode" name="zipcode"
                                                    class="w-full p-2 border rounded"
                                                    value="{{ old('zipcode', $formData2['zipcode'] ?? '') }}"
                                                    placeholder="Enter Zip Code" readonly />
                                                <!-- Add disabled attribute here -->
                                                @error('zipCode')
                                                    <div class="text-red-600 mt-1">{{ $message }}</div>
                                                @enderror
                                            </div>
                                        </div>



                                        <div class="mt-6">
                                            <label for="presentAddress" class="block mb-1">Present Address</label>
                                            <input type="text" id="presentAddress" name="presentAddress"
                                                class="w-full p-2 border rounded"
                                                placeholder="Ex. Street Name, Building, House. No"
                                                value="{{ old('presentAddress', $formData2['presentAddress'] ?? '') }}"
                                                placeholder="" />
                                            @error('presentAddress')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                        <div class="mt-6">
                                            <div class="mt-6">
                                                <label for="tin" class="block mb-1">TIN</label>
                                                <div class="flex flex-wrap gap-1">
                                                    <!-- Group 1 -->
                                                    <input type="text" id="tin1" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.0', $formData2['tin.0'] ?? '') }}" />
                                                    <input type="text" id="tin2" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.1', $formData2['tin.1'] ?? '') }}" />
                                                    <input type="text" id="tin3" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.2', $formData2['tin.2'] ?? '') }}" />

                                                    <!-- Hyphen -->
                                                    <span
                                                        class="flex items-center justify-center font-semibold w-5 sm:w-auto md:w-5 lg:w-auto xl:w-5 text-center">-</span>

                                                    <!-- Group 2 -->
                                                    <input type="text" id="tin4" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.3', $formData2['tin.3'] ?? '') }}" />
                                                    <input type="text" id="tin5" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.4', $formData2['tin.4'] ?? '') }}" />
                                                    <input type="text" id="tin6" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.5', $formData2['tin.5'] ?? '') }}" />
                                                    <!-- Hyphen -->
                                                    <span
                                                        class="flex items-center justify-center font-semibold w-5 sm:w-auto md:w-5 lg:w-auto xl:w-5 text-center">-</span>

                                                    <!-- Group 3 -->
                                                    <input type="text" id="tin7" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.6', $formData2['tin.6'] ?? '') }}" />
                                                    <input type="text" id="tin8" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded mb-1 sm:mb-0"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.7', $formData2['tin.7'] ?? '') }}" />
                                                    <input type="text" id="tin9" name="tin[]"
                                                        class="w-12 sm:w-10 md:w-12 lg:w-10 xl:w-12 h-12 sm:h-10 text-center border rounded"
                                                        pattern="\d" title="Enter a single digit" maxlength="1"
                                                        value="{{ old('tin.8', $formData2['tin.8'] ?? '') }}" />
                                                </div>
                                                <input type="text" id="tin" name="tin"
                                                    value="{{ old('tin', $formData2['tin'] ?? '') }}" maxlength="9"
                                                    hidden>
                                            </div>

                                        </div>



                                        <div class="mt-6">
                                            <label for="religion" class="block mb-1">Religion</label>
                                            <select id="religion" name="religion" class="w-full p-2 border rounded">
                                                <option value="" disabled>Please select...</option>
                                                <option value="Roman Catholic"
                                                    {{ old('religion', $formData2['religion'] ?? '') == 'Roman Catholic' ? 'selected' : '' }}>
                                                    Roman
                                                    Catholic</option>
                                                <option value="Iglesia Ni Cristo"
                                                    {{ old('religion', $formData2['religion'] ?? '') == 'Iglesia Ni Cristo' ? 'selected' : '' }}>
                                                    Iglesia ni
                                                    Cristo</option>
                                                <option value="Islam"
                                                    {{ old('religion') == 'Islam' ? 'selected' : '' }}>
                                                    Islam</option>
                                                <option value="Philippine Independent Church"
                                                    {{ old('religion', $formData2['religion'] ?? '') == 'Philippine Independent Church' ? 'selected' : '' }}>
                                                    Philippine Independent Church</option>
                                                <option value="SeventhDay Adventist Church"
                                                    {{ old('religion', $formData2['religion'] ?? '') == 'Seventh Day Adventist Church' ? 'selected' : '' }}>
                                                    Seventh-day Adventist Church</option>
                                                <option value="Others"
                                                    {{ old('religion', $formData2['religion'] ?? '') == 'Others' ? 'selected' : '' }}>
                                                    Others</option>
                                            </select>
                                            @error('religion')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                        <div class="mt-6">
                                            <label for="landlineNo" class="block mb-1">Landline No.</label>
                                            <input type="tel" id="landlineNo" name="landlineNo"
                                                class="w-full p-2 border rounded" pattern="[0-9]+"
                                                title="Please enter numerical characters only"value="{{ old('landlineNo', $formData2['landlineNo'] ?? '') }}"
                                                placeholder="89839463" maxlength="8" />
                                            @error('landlineNo')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                        <div class="mt-6">
                                            <label for="cellphoneNo" class="block mb-1">Cellphone No.</label>
                                            <input type="tel" id="cellphoneNo" name="cellphoneNo"
                                                class="w-full p-2 border rounded" pattern="[0-9]+"
                                                title="Please enter numerical characters only"
                                                placeholder="09673411171" maxlength="11"
                                                value="{{ old('cellphoneNo', $formData2['cellphoneNo'] ?? '') }}" />
                                            @error('cellphoneNo')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                    </div>


                                    <div>
                                        <div class="mt-6">
                                            <label class="block mb-2 ">Disability Status:</label>
                                            <div class="flex flex-wrap justify-start items-center">
                                                <div class="radio-group">
                                                    <input type="radio" id="disability_visual" name="disability"
                                                        value="Visual" class="mr-2" onchange="showTextBox()"
                                                        {{ old('disability', $formData2['disability'] ?? '') == 'Visual' ? 'checked' : '' }}>
                                                    <label for="disability_visual" class="mr-4"><i
                                                            class="fas fa-eye mr-1"></i> Visual </label>
                                                </div>
                                                <div class="radio-group">
                                                    <input type="radio" id="disability_psychosocial"
                                                        name="disability" value="Psychosocial" class="mr-2"
                                                        onchange="showTextBox()"
                                                        {{ old('disability', $formData2['disability'] ?? '') == 'Psychosocial' ? 'checked' : '' }}>
                                                    <label for="disability_psychosocial" class="mr-4"><i
                                                            class="fas fa-brain mr-1"></i> Psychosocial</label>
                                                </div>
                                                <div class="radio-group">
                                                    <input type="radio" id="disability_physical" name="disability"
                                                        value="Physical" class="mr-2" onchange="showTextBox()"
                                                        {{ old('disability', $formData2['disability'] ?? '') == 'Physical' ? 'checked' : '' }}>
                                                    <label for="disability_physical" class="mr-4"><i
                                                            class="fas fa-wheelchair mr-1"></i> Physical</label>
                                                </div>
                                                <div class="radio-group">
                                                    <input type="radio" id="disability_hearing" name="disability"
                                                        value="Hearing" class="mr-2" onchange="showTextBox()"
                                                        {{ old('disability', $formData2['disability'] ?? '') == 'Hearing' ? 'checked' : '' }}>
                                                    <label for="disability_hearing" class="mr-4"><i
                                                            class="fas fa-deaf mr-1"></i> Hearing</label>
                                                </div>
                                                <div class="radio-group">
                                                    <input type="radio" id="disability_others" name="disability"
                                                        value="Others" class="mr-2" onchange="showTextBox()"
                                                        {{ old('disability', $formData2['disability'] ?? '') == 'Others' ? 'checked' : '' }}>
                                                    <label for="disability_others" class="mr-4"><i
                                                            class="fas fa-handshake mr-1"></i> Others</label>
                                                </div>
                                            </div>
                                            @error('disability')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                        <div id="disabilityTextBox"
                                            class="mt-6 {{ old('disability', $formData2['disability'] ?? '') == 'others' ? '' : '' }}">
                                            <label class="block mb-2 ">Specify Disability:</label>
                                            <input type="text" id="disabilityDetails" name="disabilityDetails"
                                                class="w-full p-2 border rounded"
                                                value="{{ old('disabilityDetails', $formData2['disabilityDetails'] ?? '') }}"
                                                placeholder="Ex. Cataract" />
                                            @error('disabilityDetails')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>


                                        <div class="mt-6">
                                            <label class="block mb-2 ">4Ps Beneficiary</label>
                                            <div class="flex items-center">
                                                <input type="radio" id="4ps-yes" name="beneficiary-4ps"
                                                    value="Yes" class="mr-2"
                                                    {{ old('beneficiary-4ps', $formData2['beneficiary-4ps'] ?? '') == 'Yes' ? 'checked' : '' }}>
                                                <label for="4ps-yes" class="mr-4">Yes</label>

                                                <input type="radio" id="4ps-no" name="beneficiary-4ps"
                                                    value="No" class="mr-2"
                                                    {{ old('beneficiary-4ps', $formData2['beneficiary-4ps'] ?? '') == 'No' ? 'checked' : '' }}>
                                                <label for="4ps-no" class="mr-4">No</label>
                                            </div>
                                            @error('beneficiary-4ps')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>



                                        <div class="mt-6">
                                            <label class="block mb-2">Are you a former OFW?</label>
                                            <div class="flex items-center">
                                                <input type="checkbox" id="ofw-checkbox" name="ofw-status"
                                                    class="mr-2"
                                                    {{ old('ofw-status', isset($formData2['ofw-status']) && $formData2['ofw-status'] == 'Yes') ? 'checked' : '' }}>
                                                <label for="ofw-checkbox" class="mr-4">Yes</label>
                                            </div>
                                            @error('ofw-status')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>


                                        <div id="ofw-country-details"
                                            class="mt-6 {{ old('ofw-country') ? '' : '' }}">
                                            <label for="ofw-country" class="block mb-1">Latest Country
                                                of
                                                Deployment</label>
                                            <input type="text" id="ofw-country" name="ofw-country"
                                                class="w-full p-2 border rounded mb-2"
                                                placeholder="Please specify the country"
                                                value="{{ old('ofw-country', $formData2['ofw-country'] ?? '') }}"
                                                list="countrySuggestions" />
                                            <datalist id="countrySuggestions">
                                            </datalist>
                                            @error('ofw-country')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>


                                        <div id="ofw-return-details"
                                            class="mt-6 {{ old('ofw-return') ? '' : 'disabled' }}">
                                            <label for="ofw-return" class="block mb-1">Month and Year of
                                                Return to Philippines</label>
                                            <input type="month" id="ofw-return" name="ofw-return"
                                                class="w-full p-2 border rounded"
                                                value="{{ old('ofw-return', $formData2['ofw-return'] ?? '') }}" />
                                            @error('ofw-return')
                                                <div class="text-red-600 mt-1">{{ $message }}</div>
                                            @enderror
                                        </div>

                                        <div class="mt-6">
                                            <div class="flex flex-col mr-4 w-full">
                                                <label for="disabilityOccurrence" class="block mb-1">Disability
                                                    Occurrence:</label>
                                                <select id="disabilityOccurrence" name="disabilityOccurrence"
                                                    class="p-2  border rounded"
                                                    onchange="toggleOtherDisabilityField()">
                                                    <option value="" selected disabled>Specify Disability
                                                        Occurrence...</option>
                                                    <option value="Birth"
                                                        {{ old('disabilityOccurrence', $formData2['disabilityOccurrence'] ?? '') == 'Birth' ? 'selected' : '' }}>
                                                        Since Birth</option>
                                                    <option value="Before Employment"
                                                        {{ old('disabilityOccurrence', $formData2['disabilityOccurrence'] ?? '') == 'Before Employment' ? 'selected' : '' }}>
                                                        Before Employment</option>
                                                    <option value="After Employment"
                                                        {{ old('disabilityOccurrence', $formData2['disabilityOccurrence'] ?? '') == 'After Employment' ? 'selected' : '' }}>
                                                        After Employment</option>
                                                    <option value="Other"
                                                        {{ old('disabilityOccurrence', $formData2['disabilityOccurrence'] ?? '') == 'Other' ? 'selected' : '' }}>
                                                        Other</option>
                                                </select>
                                                @error('disabilityOccurrence')
                                                    <div class="text-red-600 mt-1">{{ $message }}</div>
                                                @enderror
                                            </div>


                                            <div class="mt-6">
                                                <label for="otherDisabilityDetails" class="block mb-1">Type here if
                                                    you
                                                    chose 'Other':</label>
                                                <div class="flex items-center mt-4" id="otherDisabilityField">
                                                    <input type="text" id="otherDisabilityDetails"
                                                        name="otherDisabilityDetails" class="p-2 border rounded"
                                                        value="{{ old('otherDisabilityDetails', $formData2['otherDisabilityDetails'] ?? '') }}"
                                                        disabled placeholder="Ex. Accident" />
                                                    @error('otherDisabilityDetails')
                                                        <div class="text-red-600 mt-1">{{ $message }}</div>
                                                    @enderror
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="mt-4 text-right">
                                    <a href="{{ route('setup') }}"
                                        class="inline-block py-2 px-4 bg-black text-white rounded-md shadow-md hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mr-2">Previous</a>

                                    <button type="submit"
                                        class="inline-block py-2 px-4 bg-green-600 text-white rounded-md shadow-md hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">Save</button>
                                </div>
                            </div>

                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const barangayInput = document.getElementById('barangay');
                                    const suggestionsContainer = document.getElementById('barangay-suggestions');
                                    const errorDiv = document.getElementById('barangay-error');
                                    const zipCodeInput = document.getElementById('zipcode');

                                    let mandaluyongBarangays = [];

                                    // Fetch barangay data
                                    fetch('/locations/barangays.json')
                                        .then(response => {
                                            if (!response.ok) {
                                                throw new Error('Network response was not ok');
                                            }
                                            return response.json();
                                        })
                                        .then(data => {
                                            mandaluyongBarangays = data.Mandaluyong;

                                            barangayInput.addEventListener('input', function() {
                                                const query = this.value.trim().toLowerCase();
                                                const filteredBarangays = mandaluyongBarangays.filter(barangay =>
                                                    barangay.location.toLowerCase().includes(query)
                                                ).slice(0, 10);

                                                renderSuggestions(filteredBarangays,
                                                    query);
                                            });
                                        })
                                        .catch(error => {
                                            console.error('Error fetching barangay data:', error);
                                            errorDiv.classList.remove('hidden');
                                        });

                                    function renderSuggestions(barangays, query) {
                                        suggestionsContainer.innerHTML = ''; // Clear previous suggestions
                                        suggestionsContainer.style.display = barangays.length && query ? 'block' :
                                            'none';


                                        barangays.forEach(barangay => {
                                            const suggestionElement = document.createElement('div');
                                            suggestionElement.classList.add('suggestion');

                                            const suggestionText = document.createElement('div');
                                            suggestionText.classList.add('suggestion-text');
                                            suggestionText.textContent = barangay.location;

                                            const plusContainer = document.createElement('div');
                                            plusContainer.classList.add('plus-container');
                                            plusContainer.innerHTML = '+';

                                            suggestionElement.appendChild(suggestionText);
                                            suggestionElement.appendChild(plusContainer);

                                            suggestionElement.addEventListener('click', function() {
                                                barangayInput.value = barangay.location;
                                                zipCodeInput.value = barangay.zip;
                                                editButton.style.display = 'inline-block'; // Show edit button

                                                suggestionsContainer.style.display = 'none';

                                                barangayInput.readOnly = true;
                                            });

                                            suggestionsContainer.appendChild(suggestionElement);


                                        });
                                    }

                                    // Edit button functionality
                                    editButton.addEventListener('click', function() {
                                        event.preventDefault()

                                        barangayInput.removeAttribute('readonly'); // Allow editing
                                        barangayInput.focus(); // Focus on the input field
                                        barangayInput.value = ''
                                        zipCodeInput.value = ''
                                    });

                                    // Handle input changes in barangayInput
                                    barangayInput.addEventListener('input', function() {
                                        const selectedBarangay = this.value.trim();
                                        if (selectedBarangay === '') {
                                            zipCodeInput.value = ''; // Clear zip code input if barangay input is empty
                                            editButton.style.display = 'inline-block'; // Hide edit button if input is empty

                                        }
                                        if (selectedBarangay === '' || selectedBarangay.split(' ').length < 2) {
                                            zipCodeInput.value = ''; // Clear zip code input
                                            editButton.style.display = 'inline-block'; // Hide edit button

                                        }
                                    });
                                    if (barangayInput.value.trim() === '') {
                                        editButton.style.display = 'inline-block';
                                    }

                                });

                                document.addEventListener('DOMContentLoaded', function() {
                                    const zipCodeInput = document.getElementById('zipcode');

                                    zipCodeInput.addEventListener('input', function(event) {
                                        event.preventDefault();
                                        return false;
                                    });

                                    zipCodeInput.value =
                                        '{{ old('zipcode', $formData2['zipcode'] ?? '') }}'; // Assuming this is PHP or Blade template syntax

                                    zipCodeInput.addEventListener('change', function(event) {
                                        zipCodeInput.value =
                                            '{{ old('zipcode', $formData2['zipcode'] ?? '') }}'; // Reset value on change
                                    });
                                });



                                document.addEventListener('DOMContentLoaded', function() {
                                    const tinInputs = [
                                        document.getElementById('tin1'),
                                        document.getElementById('tin2'),
                                        document.getElementById('tin3'),
                                        document.getElementById('tin4'),
                                        document.getElementById('tin5'),
                                        document.getElementById('tin6'),
                                        document.getElementById('tin7'),
                                        document.getElementById('tin8'),
                                        document.getElementById('tin9')
                                    ];
                                    const fullTINInput = document.getElementById('tin');

                                    tinInputs.forEach(function(input, index) {
                                        input.addEventListener('input', function() {
                                            // Move to the next input if current input is filled
                                            if (input.value.length === input.maxLength && index < tinInputs.length - 1) {
                                                tinInputs[index + 1].focus();
                                            }

                                            // Manually concatenate values
                                            let fullTIN = '';
                                            tinInputs.forEach(function(inp) {
                                                fullTIN += inp.value.trim();
                                            });
                                            fullTINInput.value = fullTIN;
                                        });

                                        // Move to the previous input on backspace/delete if current input is empty
                                        input.addEventListener('keydown', function(e) {
                                            if ((e.key === 'Backspace' || e.key === 'Delete') && input.value === '' &&
                                                index > 0) {
                                                tinInputs[index - 1].focus();
                                            }
                                        });

                                        // Handle paste event to allow pasting a full TIN directly
                                        input.addEventListener('paste', function(e) {
                                            e.preventDefault();
                                            const pasteData = e.clipboardData.getData('text').replace(/\D/g,
                                                ''); // Get only numeric data
                                            let currentIndex = index;

                                            pasteData.split('').forEach((char) => {
                                                if (currentIndex < tinInputs.length) {
                                                    tinInputs[currentIndex].value = char;
                                                    currentIndex++;
                                                }
                                            });

                                            // Manually concatenate values after paste
                                            let fullTIN = '';
                                            tinInputs.forEach(function(inp) {
                                                fullTIN += inp.value.trim();
                                            });
                                            fullTINInput.value = fullTIN;
                                        });
                                    });
                                });
                            </script>
                            <style>
                                .suggestion {
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    padding: 8px;
                                    background-color: white;
                                    cursor: pointer;
                                    border-radius: 4px;
                                    margin-bottom: 4px;
                                }

                                .suggestion-text {
                                    flex: 1;
                                }

                                .plus-container {
                                    background-color: #5cb85c;
                                    color: #fff;
                                    padding: 4px 8px;
                                    border-radius: 4px;
                                    margin-left: 8px;
                                }

                                .plus-container:hover {
                                    background-color: #4cae4c;
                                }
                            </style>
